<% layout("/layouts/boilerplate") -%>
    <h3>Task Details</h3>
    <div class="card" style="width: 29rem;">
        <div class="card-body">
            <h4 class="card-title">
                <%= task.title %>
            </h4>
            <p class="card-text">
                <strong>Description:</strong><br>
                <%= task.description || "No description provided" %>
            </p>
            <p class="card-text">
                <strong>Status:</strong>
                <span class="badge status-badge <%= task.status.toLowerCase().replace(" ", "-") %>">
                    <%= task.status %>
                </span>
            </p>
            <form method="POST" action="/tasks/<%= task._id %>?_method=PUT" class="mb-3">
                <select name="task[status]" class="form-select w-50">
                    <option value="Pending" <%=task.status==="Pending" ? "selected" : "" %>>
                        Pending
                    </option>
                    <option value="In Progress" <%=task.status==="In Progress" ? "selected" : "" %>>
                        In Progress
                    </option>
                    <option value="Completed" <%=task.status==="Completed" ? "selected" : "" %>>
                        Completed
                    </option>
                </select>
                <button class="btn btn-dark btn-sm mt-2">
                    Update Status
                </button>
            </form>
            <div class="mt-3">
                <a href="/tasks/<%= task._id %>/edit" class="btn btn-outline-dark btn-sm">
                    Edit Full Task
                </a>
                <form method="POST" action="/tasks/<%= task._id %>?_method=DELETE" style="display: inline;">
                    <button class="btn btn-outline-danger btn-sm">
                        Delete
                    </button>
                </form>
            </div>
        </div>
    </div>
    <a href="/tasks" class="btn btn-dark add-btn">‚Üê Back to all tasks</a>